{"version":3,"names":[],"mappings":"","sources":["preload.js"],"sourcesContent":["'use strict'\n\n// based on: https://gist.github.com/EtienneLem/7e3bc7af2ed75a15eae9006557ef790e#file-preload-js\n\nconst { remote } \t= require( 'electron' )\nconst os \t\t\t= require( 'os' ).release()\nconst parts \t\t= os.split( '.' )\nconst color \t\t= require( 'color' )\nconst { systemPreferences } = remote\nconst { nativeTheme } = remote\n\n\nconst setOSTheme = () => {\n\t\n\tlet theme \t= nativeTheme.shouldUseDarkColors ? 'dark' : 'light',\n\t\taccent \t= systemPreferences.getAccentColor().substr(0, 6)\n\t\n\tif( parts[0] <= 17 ) { \n\t\t\n\t\ttheme = 'light'\n\t\taccent = '0a5fff'\n\t}\n\t\n\tlet light = color('#'+accent).lighten(.15).hex()\n\tlet dark = color('#'+accent).darken(.175).hex()\n\t\n\twindow.localStorage.os_theme = theme\n\twindow.localStorage.accent = `#${accent}`\n\twindow.localStorage.accent_light = light\n\twindow.localStorage.accent_dark = dark\n\n\tif ('__setTheme' in window) {\n\t\t\n\t\twindow.__setTheme()\n\t}\n}\n\n\nsystemPreferences.subscribeNotification(\n\t\n\t'AppleInterfaceThemeChangedNotification',\n\tsetOSTheme,\n)\n\n\nsetOSTheme()\n"],"file":"../preload.min.js"}